webpackJsonp([5],{"3ZnM":function(t,s){},H5Jt:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});n("3ZnM");var i={name:"xiangqing",data:function(){return{activeKey:0,list:[],app:this.$store.state.gou}},mounted:function(){var t=this;this.Zongjia(),this.axios.get("http://elm.cangdu.org/shopping/v2/menu?restaurant_id=1").then(function(s){t.list=s.data}),$(".sd-Xiang-tou>li").click(function(){$(this).index();$(this).addClass("ac").siblings().removeClass("ac"),$(this).find("span").addClass("Span"),$(this).siblings().find("span").removeClass("Span")}),this.$store.state.gou.length>=1&&($(".sd-Quan2").css("background","#3190e8"),$("#btn").css("background","#4cd964"),$(".sd-SPAN").show(),$(".sd-WzXian").hide())},methods:{scrollToAnchor:function(t){if(t){var s=document.getElementById(t);s&&s.scrollIntoView({block:"start",behavior:"smooth"})}},fnTianjia:function(t,s){console.log(s);var n={name:t.name,price:t.specfoods[0].price,num:1,img:t.image_path},i=this.app.findIndex(function(s,n){return t.name==s.name});-1==i?this.app.push(n):this.app[i].num++,this.$store.commit("Gou",this.app),console.log(),this.$store.state.gou.length>=1&&($(".sd-Quan2").css("background","#3190e8"),$("#btn").css("background","#4cd964"),$(".sd-SPAN").show(),$(".sd-WzXian").hide()),function(t){let s=document.createElement("div");s.className="ballFather",document.body.appendChild(s);let n=document.createElement("div");n.className="ballSon",n.innerHTML="+",s.appendChild(n);let i=t.clientY,a=t.clientX;s.style.left=a+"px",s.style.top=i+"px";let e=window.innerHeight-i;s.style.webkitTransform=`translateY(${e-10}px)`,s.style.transform=`translateY(${e-10}px)`,n.style.webkitTransform=`translateX(-${a-10}px)`,n.style.transform=`translateX(-${a-10}px)`,setTimeout(()=>{document.querySelector(".sc").classList.add("animation"),n.style.display="none",setTimeout(()=>{document.querySelector(".sc").classList.remove("animation")},400)},500)}(s)},Zongjia:function(){for(var t=0,s=0;s<this.app.length;s++)t+=Number(this.app[s].num*this.app[s].price);return t},fnXian:function(){$(".sd-XIanXian").fadeIn()},fnFan:function(){$(".sd-XIanXian").fadeOut()},fnQing:function(){console.log(this.app),console.log(this.$store.state.gou);this.app=[],this.$store.commit("Gou",this.app),$(".sd-Quan2").css("background","#3d3d3f"),$("#btn").css("background","#444443"),$(".sd-SPAN").hide(),$(".sd-WzXian").show()},fnJian:function(t){console.log(t.num),t.num<=1?t.num=1:t.num--},fnJia:function(t){t.num++,5==t.num&&alert("限购5件商品")},Jiesuan:function(){if(console.log(this.app),this.app<=0)return!1;console.log(123),this.$router.push({name:"Xiadan"})}}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"Xiagn"},[i("div",{staticClass:"sd-XIanXian"},[i("div",{staticClass:"sd-WUChe"},[i("div",{staticClass:"sd-XiangC"},[i("span",{on:{click:function(s){return t.fnFan()}}},[t._v("购物车")]),t._v(" "),i("span",{staticStyle:{"margin-right":".4rem","text-align":"center"},on:{click:function(s){return t.fnQing()}}},[i("van-icon",{attrs:{name:"delete",size:".6rem"}}),t._v("\n          清空\n        ")],1)]),t._v(" "),i("div",{staticClass:"sd-WzXian"},[i("p",{staticStyle:{margin:"0",padding:"0"}},[i("van-image",{attrs:{width:"100",height:"100",src:"https://img.yzcdn.cn/vant/cat.jpeg"}})],1),t._v(" "),i("p",{staticStyle:{"font-size":".6rem","font-weight":"bold",color:"darkmagenta",margin:"0",padding:"0"}},[t._v("还没添加商品哟0.0")])]),t._v(" "),t._l(t.app,function(s,n){return i("div",{key:n,staticClass:"sd-XCC"},[i("span",{staticStyle:{"font-size":".5rem","font-weight":"bold",color:"#737373"}},[t._v(t._s(s.name))]),t._v(" "),i("span",{staticStyle:{"font-size":".6rem","font-weight":"bold",color:"#ff6706",display:"flex","justify-content":"center"}},[t._v(" ￥"+t._s(s.price))]),t._v(" "),i("span",{staticClass:"sd-SPAN-SS"},[i("span",{staticStyle:{background:"#fff",border:".03rem solid #3190e8",color:"#3190e8","border-radius":"50%","margin-left":"1rem"},on:{click:function(n){return t.fnJian(s)}}},[t._v("-")]),t._v(" "),i("span",[t._v(t._s(s.num))]),t._v(" "),i("span",{staticStyle:{background:"#3190e8",color:"#fff","border-radius":"50%"},on:{click:function(n){return t.fnJia(s)}}},[t._v("+")])])])})],2)]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"sd-Xuan-sd"},[i("div",{staticClass:"sd-zuo"},[i("van-sidebar",{model:{value:t.activeKey,callback:function(s){t.activeKey=s},expression:"activeKey"}},t._l(t.list,function(s,n){return i("van-sidebar-item",{key:n,attrs:{title:s.name},on:{click:function(s){return t.scrollToAnchor(n)}}})}),1)],1),t._v(" "),i("div",{staticClass:"sd-you"},t._l(t.list,function(s,n){return i("div",{key:n,staticClass:"sd-ACC"},[i("a",{staticStyle:{color:"#000"},attrs:{href:"#",id:n}},[i("div",{staticClass:"sd-XUAN"},[i("div",{staticStyle:{"margin-left":".4rem"}},[i("span",{staticStyle:{"font-size":".6rem","font-weight":"bold"}},[t._v(t._s(s.name))]),t._v(" "),i("span",{staticStyle:{"margin-left":".2rem","font-size":".4rem"}},[t._v(t._s(s.description))])]),t._v(" "),i("div",{staticStyle:{"margin-right":".4rem","font-size":".8rem"}},[t._v("···")])])]),t._v(" "),t._l(s.foods,function(s,n){return i("div",{key:n,staticClass:"sd-RAN"},[t._m(1,!0),t._v(" "),i("div",{staticClass:"sd-Ran-SD"},[i("div",{staticClass:"sd-IMG"},[i("img",{attrs:{src:"//elm.cangdu.org/img/"+s.image_path,alt:""}})]),t._v(" "),i("div",{staticClass:"sd-TWZ"},[i("p",{staticClass:"sd-P1"},[t._v(t._s(s.name))]),t._v(" "),i("p",{staticClass:"sd-P2"},[t._v(t._s(s.description))]),t._v(" "),i("p",{staticClass:"sd-P2"},[t._v(t._s(s.tips)+"%")]),t._v(" "),i("p",{staticClass:"sd-P3"},[t._v("\n                  ￥"+t._s(s.specfoods[0].price)+"\n                  "),i("span",{on:{click:function(n){return t.fnTianjia(s,n)}}},[t._v("+")])])])])])})],2)}),0)]),t._v(" "),i("div",{staticClass:"JIAO"},[i("div",{staticClass:"sd-Gou"},[i("div",{staticClass:"IMG-SD"},[i("div",{staticClass:"sd-Quan1 sc",on:{click:function(s){return t.fnXian()}}},[i("div",{staticClass:"sd-Quan2"},[i("img",{attrs:{src:n("h7Jd"),alt:""}}),t._v(" "),i("span",{staticClass:"sd-SPAN"},[t._v(t._s(this.app.length))])])])]),t._v(" "),i("div",{staticClass:"sd-PPP"},[i("p",{staticStyle:{"font-size":".5rem","font-weight":"bold",color:"#fff"}},[t._v("￥"+t._s(t.Zongjia()))]),t._v(" "),i("p",{staticStyle:{color:"#fff","font-size":".5rem"}},[t._v("配送费￥5")])])]),t._v(" "),i("div",{staticClass:"JieSuan"},[i("van-button",{attrs:{id:"btn",color:"#535356"},on:{click:function(s){return t.Jiesuan()}}},[t._v("结算")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("ul",{staticClass:"sd-Xiang-tou"},[s("li",{staticClass:"ac"},[this._v("\n      商品\n      "),s("span",{staticClass:"Span"})]),s("li",[this._v("\n      评价\n      "),s("span")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"sd-DingWei"},[s("span",[this._v("热销")])])}]};var e=n("C7Lr")(i,a,!1,function(t){n("UVGp")},"data-v-26176701",null);s.default=e.exports},UVGp:function(t,s){},h7Jd:function(t,s,n){t.exports=n.p+"static/img/cc.7ee10c7.png"}});